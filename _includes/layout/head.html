<!-- #####################################################  jekyll variables -->

<!-- page meta data -->
{% if page.intro %}
    {% assign meta-description = page.intro | strip_html | strip_newlines | truncate: 155 %}
  {% else %}
    {% assign meta-description = site.description | truncate: 155 %}
{% endif %}

<!-- page meta title -->
{% assign meta-title = page.title | append: ' | ' | append: site.title | remove: '&shy;' | replace: '&nbsp;', ' ' %}

<!-- social image -->
{% assign social-image-url = site.url | append: site.img | append: '/thumbnail/social.jpg' %}

<!-- ####################################################################### -->

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{meta-title}}</title>
  <meta name="description" content="{{meta-description}}" />
  <!-- START Social Data -->
  <!-- Google / Search Engine Tags -->
  <meta itemprop="name" content="{{meta-title}}" />
  <meta itemprop="description" content="{{meta-description}}" />
  <meta itemprop="image" content="{{social-image-url}}" />
  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="{{site.url}}{{site.baseurl}}{{page.url}}" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="{{meta-title}}" />
  <meta property="og:description" content="{{meta-description}}" />
  <meta property="og:image" content="{{social-image-url}}" />
  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@secret_escapes" />
  <meta name="twitter:title" content="{{meta-title}}" />
  <meta name="twitter:description" content="{{meta-description}}" />
  <meta name="twitter:image" content="{{social-image-url}}" />
  <!-- END Social Data -->
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link
    href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400;1,700;1,900&family=Source+Serif+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Raleway:wght@600&display=swap"
    rel="stylesheet"
  />
  {% if page.id == "overview" or page.layout == "trip" %}
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
  {% endif %}
  <link rel="stylesheet" href="{{site.css}}/main.css" />
  <script src="{{site.js}}/main.js"></script>
  <script>
    // load in jekyll data into js
    var baseurl = "{{site.baseurl}}";
    var imgPath = "{{site.img}}";
  </script>
  {% if page.id == "overview" %}
    <script>
      // load in all trip content into js for map to use
      {% assign trip-content = site.html_pages | where: 'layout', 'trip' | sort: 'order' %}
      var tripContent = {{trip-content | jsonify}};
    </script>
    <script src="{{site.js}}/overview.js"></script>
  {% endif %}
  {% if page.layout == "trip" %}
    <script src="{{site.js}}/trip.js"></script>
  {% endif %}
</head>

</head>
